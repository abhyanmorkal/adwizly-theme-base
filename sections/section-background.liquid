<style>
    #theme-section-{{ section.id }}{
        display:flex;
        position:absolute;
        top:0;
        bottom:0;
        left:0;
        right:0;
        width:100%;
        z-index: -1;
        transition: top var(--duration-medium) var(--animation-bezier),
                    bottom var(--duration-medium) var(--animation-bezier);
    }
    {%- if section.settings.height_top_internal != "none" and section.settings.height_top <= -100 -%}
    @media (min-width:1025px){
      section:has(+section>[data-top-internal="{{ section.settings.height_top_internal }}"])>*{
        {%- if section.settings.height_top_internal == "normal" -%}
        padding-top:var(--sections-top-spacing);
        {%- elsif section.settings.height_top_internal == "medium" -%}
        padding-top:var(--sections-top-spacing--medium);
        {%- elsif section.settings.height_top_internal == "small" -%}
        padding-top:var(--sections-top-spacing--small);
        {%- endif -%}
      }
    }
    {%- endif -%}
    {%- if section.settings.height_top_internal_tablet != "none" and section.settings.height_top_tablet <= -100 -%}
    @media (min-width:577px) and (max-width:1024px){
      section:has(+section>[data-top-internal-tablet="{{ section.settings.height_top_internal_tablet }}"])>*{
        {%- if section.settings.height_top_internal_tablet == "normal" -%}
        padding-top:var(--sections-top-spacing);
        {%- elsif section.settings.height_top_internal_tablet == "medium" -%}
        padding-top:var(--sections-top-spacing--medium);
        {%- elsif section.settings.height_top_internal_tablet == "small" -%}
        padding-top:var(--sections-top-spacing--small);
        {%- endif -%}
      }
    }
    {%- endif -%}
    {%- if section.settings.height_top_internal_mobile != "none" and section.settings.height_top_mobile <= -100 -%}
    @media (max-width:576px){
      section:has(+section>[data-top-internal-mobile="{{ section.settings.height_top_internal_mobile }}"])>*{
        {%- if section.settings.height_top_internal_mobile == "normal" -%}
        padding-top:var(--sections-top-spacing-mobile);
        {%- elsif section.settings.height_top_internal_mobile == "medium" -%}
        padding-top:var(--sections-top-spacing--medium-mobile);
        {%- elsif section.settings.height_top_internal_mobile == "small" -%}
        padding-top:var(--sections-top-spacing--small-mobile);
        {%- endif -%}
      }
    }
    {%- endif -%}
</style>
{%- render "section-css-background", section:section -%}
{%- capture page_width -%}{%- if section.settings.width != "default" %}{{ section.settings.width }}{%- else -%}{{ settings.page_width_main }}{%- endif -%}{%- endcapture -%}
{%- assign section_settings_background = false -%}{%- if section.settings.background != 'hide' and section.settings.background_width == "content_width" -%}{%- assign section_settings_background = true -%}{%- endif -%}
<section-background id="theme-section-{{ section.id }}"
                    data-top="{{ section.settings.height_top }}"
                    data-bottom="{{ section.settings.height_bottom }}"
                    data-top-tablet="{{ section.settings.height_top_tablet }}"
                    data-bottom-tablet="{{ section.settings.height_bottom_tablet }}"
                    data-top-mobile="{{ section.settings.height_top_mobile }}"
                    data-bottom-mobile="{{ section.settings.height_bottom_mobile }}"
                    {% if section.settings.height_top_internal        != "none" and section.settings.height_top        <= -100 %}data-top-internal="{{ section.settings.height_top_internal }}"{% endif %}
                    {% if section.settings.height_top_internal_tablet != "none" and section.settings.height_top_tablet <= -100 %}data-top-internal-tablet="{{ section.settings.height_top_internal_tablet }}"{% endif %}
                    {% if section.settings.height_top_internal_mobile != "none" and section.settings.height_top_mobile <= -100 %}data-top-internal-mobile="{{ section.settings.height_top_internal_mobile }}"{% endif %}
    >
    <div class="{% if section.settings.background != 'hide' and section.settings.background_width == "fullwidth" %} section-background{% endif %} w-full h-full"
        data-section-name="section-background">
        <div class="{{ page_width }}{% if section_settings_background %} section-background--mobile-width{% endif %} h-full">
            {%- if section_settings_background -%}<div class="section-background border__radius h-full">{%- endif -%}
            {%- if section.settings.background != 'show' and section.settings.show_parallax -%}<div class="section-background__elements"><div class="section-background__elements__item"></div></div>{%- endif -%}
            {% if section_settings_background %}</div>{%- endif -%}
        </div>
    </div>
</section-background>

{% schema %}
  {
    "name": "t:names.background",
  	"tag": "section",
    "class": "position-relative",
    "disabled_on": {
      "groups": ["header","footer","custom.popups"]
    },
    "settings": [
      {
        "type": "header",
        "content": "Layout"
      },
      {
        "type": "select",
        "id": "width",
        "options": [
          {
            "value": "default",
            "label": "Default"
          },
          {
            "value": "page-width",
            "label": "Boxed"
          },
          {
            "value": "page-wide",
            "label": "Wide"
          }
        ],
        "default": "default",
        "label": "Width",
        "info": "The Wide option works for screens with 1440px width and more."
      },
      {
        "type": "range",
        "id": "height_top",
        "min": -100,
        "max": 0,
        "step": 1,
        "unit": "%",
        "label": "Desktop top padding",
        "default": 0
      },
      {
        "visible_if": "{{ section.settings.height_top <= -100 }}",
        "type": "select",
        "id": "height_top_internal",
        "options": [
          {
            "value": "none",
            "label": "None"
          },
          {
            "value": "small",
            "label": "Small"
          },
          {
            "value": "medium",
            "label": "Medium"
          },
          {
            "value": "normal",
            "label": "Normal"
          }
        ],
        "default": "normal",
        "label": "Desktop top internal padding"
      },
      {
        "type": "range",
        "id": "height_bottom",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "%",
        "label": "Desktop bottom padding",
        "default": 0
      },
      {
        "type": "range",
        "id": "height_top_tablet",
        "min": -100,
        "max": 0,
        "step": 1,
        "unit": "%",
        "label": "Tablet top padding",
        "default": 0
      },
      {
        "visible_if": "{{ section.settings.height_top_tablet <= -100 }}",
        "type": "select",
        "id": "height_top_internal_tablet",
        "options": [
          {
            "value": "none",
            "label": "None"
          },
          {
            "value": "small",
            "label": "Small"
          },
          {
            "value": "medium",
            "label": "Medium"
          },
          {
            "value": "normal",
            "label": "Normal"
          }
        ],
        "default": "normal",
        "label": "Tablet top internal padding"
      },
      {
        "type": "range",
        "id": "height_bottom_tablet",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "%",
        "label": "Tablet bottom padding",
        "default": 0
      },
      {
        "type": "range",
        "id": "height_top_mobile",
        "min": -100,
        "max": 0,
        "step": 1,
        "unit": "%",
        "label": "Mobile top padding",
        "default": 0
      },
      {
        "visible_if": "{{ section.settings.height_top_mobile <= -100 }}",
        "type": "select",
        "id": "height_top_internal_mobile",
        "options": [
          {
            "value": "none",
            "label": "None"
          },
          {
            "value": "small",
            "label": "Small"
          },
          {
            "value": "medium",
            "label": "Medium"
          },
          {
            "value": "normal",
            "label": "Normal"
          }
        ],
        "default": "normal",
        "label": "Mobile top internal padding"
      },
      {
        "type": "range",
        "id": "height_bottom_mobile",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "%",
        "label": "Mobile bottom padding",
        "default": 0
      },
      {
        "type": "header",
        "content": "Background"
      },
      {
        "type": "select",
        "id": "background",
        "options": [
          {
            "value": "color",
            "label": "Color"
          },
          {
            "value": "gradient",
            "label": "Gradient"
          },
          {
            "value": "image",
            "label": "Image"
          }
        ],
        "default": "color",
        "label": "Background"
      },
      {
        "visible_if": "{{ section.settings.background == 'color' }}",
        "type": "color",
        "id": "color_background",
        "default": "rgba(0,0,0,0)",
        "label": "Color"
      },
      {
        "visible_if": "{{ section.settings.background == 'gradient' }}",
        "type": "color_background",
        "id": "gradient",
        "label": "Gradient"
      },
      {
        "visible_if": "{{ section.settings.background == 'image' }}",
        "type": "image_picker",
        "id": "background_image",
        "label": "Image"
      },
      {
        "visible_if": "{{ section.settings.background == 'image' and section.settings.background_image != blank }}",
        "type": "range",
        "id": "image_overlay_opacity",
        "min": 0,
        "max": 100,
        "step": 10,
        "unit": "%",
        "label": "Image overlay opacity",
        "default": 0
      },
      {
        "visible_if": "{{ section.settings.background == 'image' and section.settings.background_image != blank and section.settings.image_overlay_opacity > 0 }}",
        "type": "color",
        "id": "image_overlay_color",
        "default":"rgba(0,0,0,0)",
        "label": "Image overlay color"
      },
      {
        "visible_if": "{{ section.settings.background == 'image' }}",
        "type": "image_picker",
        "id": "background_image_mobile",
        "label": "Image mobile"
      },
      {
        "visible_if": "{{ section.settings.background == 'image' and section.settings.background_image_mobile != blank }}",
        "type": "range",
        "id": "image_overlay_opacity_mobile",
        "min": 0,
        "max": 100,
        "step": 10,
        "unit": "%",
        "label": "Image overlay opacity. Mobile",
        "default": 0
      },
      {
        "visible_if": "{{ section.settings.background == 'image' and section.settings.background_image_mobile != blank and section.settings.image_overlay_opacity_mobile > 0 }}",
        "type": "color",
        "id": "image_overlay_color_mobile",
        "default":"rgba(0,0,0,0)",
        "label": "Image overlay color. Mobile"
      },
      {
        "visible_if": "{{ section.settings.background == 'image' }}",
        "type": "checkbox",
        "id": "show_parallax",
        "default": false,
        "label": "Enable parallax effect"
      },
      {
        "visible_if": "{{ section.settings.background == 'image' }}",
        "type": "select",
        "id": "imagealign",
        "label": "Image position",
        "info": "Works for all screens",
        "default": "center",
        "options": [
          {
            "value": "top",
            "label": "Top"
          },
          {
            "value": "center",
            "label": "Center"
          },
          {
            "value": "bottom",
            "label": "Bottom"
          }
        ]
      },
      {
        "visible_if": "{{ section.settings.background == 'image' }}",
        "type": "select",
        "id": "imagesize",
        "label": "Image size",
        "info": "Works for all screens",
        "default": "cover",
        "options": [
          {
            "value": "cover",
            "label": "Full background size"
          },
          {
            "value": "contain",
            "label": "Contain"
          }
        ]
      },
      {
        "visible_if": "{{ section.settings.background != 'hide' }}",
        "type": "select",
        "id": "background_width",
        "options": [
          {
            "value": "fullwidth",
            "label": "Fullwidth"
          },
          {
            "value": "content_width",
            "label": "Content width"
          }
        ],
        "default": "fullwidth",
        "label": "Width"
      }
    ],
    "presets": [
      {
      	"name": "t:names.background",
        "category": "t:categories.layout"
      }
    ]
  }
{% endschema %}